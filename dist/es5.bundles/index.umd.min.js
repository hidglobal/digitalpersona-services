!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@digitalpersona/core")):"function"==typeof define&&define.amd?define(["exports","@digitalpersona/core"],e):e(((t=t||self).dp=t.dp||{},t.dp.services=t.dp.services||{}),t.dp.core)}(this,function(t,e){"use strict";var n;(n=t.ResourceActions||(t.ResourceActions={}))[n.Read=0]="Read",n[n.Write=1]="Write",n[n.Delete=2]="Delete";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o,u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=function(t){function e(e,n){var r=this.constructor,i=t.call(this,n)||this;return i.code=e,Object.setPrototypeOf(i,r.prototype),i}return i(e,t),e.fromServiceFault=function(t){return new e(t.error_code,t.description)},e.prototype.isHttpError=function(){return this.code>=400&&this.code<600},e}(Error),c=function(){return function(){}}();(o=t.AuthenticationStatus||(t.AuthenticationStatus={}))[o.Error=0]="Error",o[o.Continue=1]="Continue",o[o.Completed=2]="Completed";var l,a=function(){function t(e,n,r){this.href=t.create(e,n,r)}return t.getSanitizedQuery=function(t){return Object.keys(t).map(function(e){return[e,t[e]].map(encodeURIComponent).join("=")}).join("&")},t.create=function(e,n,r){return e+(n?"/"+encodeURIComponent(n):"")+(r?"?"+t.getSanitizedQuery(r):"")},t}(),p=function(){function t(t,e){this.defaultRequest={cache:"no-cache",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8",Accept:"application/json"}},this.endpointUrl=t,this.defaultRequest=e||this.defaultRequest}return t.handleResponse=function(e){return e.ok?e.json():t.handleError(e)},t.handleError=function(t){if(404===t.status)return t.json().then(function(e){throw e?new s(e.error_code,e.description):new s(t.status,t.statusText)});throw new s(t.status,t.statusText)},t.prototype.get=function(e,n,r){return fetch(a.create(this.endpointUrl,e,n),u({},this.defaultRequest,r,{method:"GET"})).then(t.handleResponse)},t.prototype.post=function(e,n,r,i){return fetch(a.create(this.endpointUrl,e,n),u({},this.defaultRequest,i,{method:"POST"},r?{body:JSON.stringify(r)}:{})).then(t.handleResponse)},t.prototype.put=function(e,n,r,i){return fetch(a.create(this.endpointUrl,e,n),u({},this.defaultRequest,i,{method:"PUT"},r?{body:JSON.stringify(r)}:{})).then(t.handleResponse)},t.prototype.del=function(e,n,r,i){return fetch(a.create(this.endpointUrl,e,n),u({},this.defaultRequest,i,{method:"DELETE"},r?{body:JSON.stringify(r)}:{})).then(t.handleResponse)},t.prototype.ping=function(t){return void 0===t&&(t="Ping"),fetch(a.create(this.endpointUrl,t),u({},this.defaultRequest,{method:"GET"})).then(function(t){return t.ok}).catch(function(t){return!1})},t}(),d=function(){function t(t){this.endpoint=new p(t)}return t.prototype.Ping=function(){return this.endpoint.ping()},t}(),f=function(t){function n(e){return t.call(this,e)||this}return i(n,t),n.prototype.GetUserCredentials=function(t){return this.endpoint.get("GetUserCredentials",{user:t.name,type:t.type}).then(function(t){return t.GetUserCredentialsResult})},n.prototype.GetEnrollmentData=function(t,e){return this.endpoint.get("GetEnrollmentData",{user:t.name,type:t.type,cred_id:e}).then(function(t){return t.GetEnrollmentDataResult})},n.prototype.Identify=function(t){return this.endpoint.post("IdentifyUser",null,{credential:t}).then(function(t){return t.IdentifyUserResult})},n.prototype.Authenticate=function(t,n){return t instanceof e.Ticket?this.endpoint.post("AuthenticateUserTicket",null,{ticket:t,credential:n}).then(function(t){return t.AuthenticateUserTicketResult}):this.endpoint.post("AuthenticateUser",null,{user:t,credential:n}).then(function(t){return t.AuthenticateUserResult})},n.prototype.CustomAction=function(t,e,n,r){return this.endpoint.post("CustomAction",null,{actionId:t,ticket:e,user:n,credential:r}).then(function(t){return t.CustomActionResult})},n.prototype.CreateAuthentication=function(t,n){return t instanceof e.Ticket?this.endpoint.post("CreateTicketAuthentication",null,{ticket:t,credentialId:n}).then(function(t){return t.CreateTicketAuthenticationResult}):this.endpoint.post("CreateUserAuthentication",null,{user:t,credentialId:n}).then(function(t){return t.CreateUserAuthenticationResult})},n.prototype.ContinueAuthentication=function(t,e){return this.endpoint.post("ContinueAuthentication",null,{authId:t,authData:e}).then(function(t){return t.ContinueAuthenticationResult})},n.prototype.DestroyAuthentication=function(t){return this.endpoint.del("DestroyAuthentication",null,{authId:t})},n}(d);(l=t.Database||(t.Database={})).AD="AD",l.LDS="ADLDS";var h,y,m=function(){return function(t,e,n){this.name=t,this.db=e,this.attr=n}}(),A=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.GetConfiguredClaims=function(t){return this.endpoint.post("GetConfiguredClaims",null,{ticket:t}).then(function(t){return t.GetConfiguredClaimsResult.ticket})},e.prototype.GetClaims=function(t,e){return this.endpoint.post("GetClaims",null,{ticket:t,request:e}).then(function(t){return t.GetClaimsResult.ticket})},e}(d);(h=t.AttributeAction||(t.AttributeAction={}))[h.Clear=1]="Clear",h[h.Update=2]="Update",h[h.Append=3]="Append",h[h.Delete=4]="Delete",(y=t.AttributeType||(t.AttributeType={}))[y.Boolean=1]="Boolean",y[y.Integer=2]="Integer",y[y.String=3]="String",y[y.Blob=4]="Blob";var C,U=function(){return function(t,e){this.type=t,this.values=e}}(),R=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.GetUserCredentials=function(t){return this.endpoint.get("GetUserCredentials",{user:t.name,type:t.type}).then(function(t){return t.GetUserCredentialsResult})},e.prototype.GetEnrollmentData=function(t,e){return this.endpoint.get("GetEnrollmentData",{user:t.name,type:t.type,cred_id:e}).then(function(t){return t.GetEnrollmentDataResult})},e.prototype.CreateUser=function(t,e,n){return this.endpoint.put("CreateUser",null,{secOfficer:t,user:e,password:n})},e.prototype.DeleteUser=function(t,e){return this.endpoint.del("DeleteUser",null,{secOfficer:t,user:e})},e.prototype.EnrollUserCredentials=function(t,e,n){return this.endpoint.put("EnrollUserCredentials",null,{secOfficer:t,owner:e,credential:n})},e.prototype.DeleteUserCredentials=function(t,e,n){return this.endpoint.del("DeleteUserCredentials",null,{secOfficer:t,owner:e,credential:n})},e.prototype.EnrollAltusUserCredentials=function(t,e,n){return this.endpoint.put("EnrollAltusUserCredentials",null,{secOfficer:t,user:e,credential:n})},e.prototype.DeleteAltusUserCredentials=function(t,e,n){return this.endpoint.del("DeleteAltusUserCredentials",null,{secOfficer:t,user:e,credential:n})},e.prototype.GetUserAttribute=function(t,e,n){return this.endpoint.post("GetUserAttribute",null,{ticket:t,user:e,attributeName:n}).then(function(t){return t.GetUserAttributeResult})},e.prototype.PutUserAttribute=function(t,e,n,r,i){return this.endpoint.put("PutUserAttribute",null,{ticket:t,user:e,attributeName:n,action:r,attributeData:i})},e.prototype.UnlockUser=function(t,e){return this.endpoint.post("UnlockUser",null,{user:t,credential:e})},e.prototype.CustomAction=function(t,e,n,r){return this.endpoint.post("CustomAction",null,{ticket:t,user:e,credential:n,actionId:r}).then(function(t){return t.CustomActionResult})},e.prototype.IsEnrollmentAllowed=function(t,e,n){return this.endpoint.post("IsEnrollmentAllowed",null,{secOfficer:t,user:e,credentialId:n})},e}(d),D=function(){return function(){}}();(C=t.TriggerName||(t.TriggerName={})).Behavior="behavior",C.IP="ip",C.Device="device",C.AltusInstalled="altusInstalled",C.Computer="computer",C.Domain="domain",C.User="user",C.InsideFirewall="insideFirewall",C.RemoteSession="remoteSession";var S=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.GetPolicyInfo=function(t,e,n,r){return this.endpoint.post("GetPolicyInfo",null,{user:t,resourceUri:e,action:n,info:r}).then(function(t){return t.GetPolicyInfoResult})},e}(d),g=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.GetAuthPolicy=function(t,e,n){return this.endpoint.get("GetAuthPolicy",{user:t.name,type:t.type,secretName:e,action:n}).then(function(t){return t.GetAuthPolicyResult})},e.prototype.DoesSecretExist=function(t,e){return this.endpoint.get("DoesSecretExist",{user:t.name,type:t.type,secretName:e}).then(function(t){return t.DoesSecretExistResult})},e.prototype.ReadSecret=function(t,e){return this.endpoint.post("ReadSecret",null,{ticket:t,secretName:e}).then(function(t){return t.ReadSecretResult})},e.prototype.WriteSecret=function(t,e,n){return this.endpoint.put("WriteSecret",null,{ticket:t,secretName:e,secretData:n})},e.prototype.DeleteSecret=function(t,e){return this.endpoint.del("DeleteSecret",null,{ticket:t,secretName:e})},e}(d);t.Attribute=U,t.AuthService=f,t.AuthenticationData=c,t.ClaimRequest=m,t.ClaimsService=A,t.ContextualInfo=D,t.EnrollService=R,t.PolicyService=S,t.SecretService=g,t.ServiceError=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.min.js.map
